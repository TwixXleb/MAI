#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "database.h"


Grades generate_random_grades() {
    Grades g;
    g.math = rand() % 5 + 1; 
    g.physics = rand() % 5 + 1;
    g.chemistry = rand() % 5 + 1;
    g.biology = rand() % 5 + 1;
    g.literature = rand() % 5 + 1;
    return g;
}

int main() {
    FILE *fp = fopen("applicants.dat", "wb");
    if (!fp) {
        perror("Не удалось открыть файл для записи");
        return EXIT_FAILURE;
    }

    Applicant applicants[20] = {
        {1, "Анна Иванова", 'F', {5, 4, 3, 5, 4}},
        {2, "Мария Петрова", 'F', {4, 4, 4, 4, 4}},
        {3, "Елена Смирнова", 'F', {5, 3, 4, 2, 5}},
        {4, "Ольга Кузнецова", 'F', {3, 4, 2, 5, 4}},
        {5, "Светлана Васильева", 'F', {5, 2, 3, 4, 1}},
        {6, "Ирина Михайлова", 'F', {2, 3, 4, 5, 3}},
        {7, "Татьяна Новикова", 'F', {4, 5, 3, 2, 4}},
        {8, "Наталья Морозова", 'F', {3, 3, 3, 3, 3}},
        {9, "Екатерина Фёдорова", 'F', {5, 4, 2, 3, 5}},
        {10, "Алёна Николаева", 'F', {4, 5, 4, 2, 3}},
        {11, "Антон Соколов", 'M', {3, 3, 3, 3, 3}},
        {12, "Дмитрий Павлов", 'M', {4, 4, 4, 4, 4}},
        {13, "Сергей Лебедев", 'M', {5, 5, 5, 5, 5}},
        {14, "Алексей Козлов", 'M', {2, 3, 4, 3, 2}},
        {15, "Михаил Захаров", 'M', {3, 2, 5, 4, 3}},
        {16, "Владимир Соловьёв", 'M', {4, 3, 2, 5, 4}},
        {17, "Павел Тимофеев", 'M', {5, 4, 3, 2, 1}},
        {18, "Константин Морозов", 'M', {1, 2, 3, 4, 5}},
        {19, "Игорь Филиппов", 'M', {3, 4, 5, 2, 1}},
        {20, "Василий Ермаков", 'M', {2, 5, 3, 4, 2}},
    };

    
    size_t written = fwrite(applicants, sizeof(Applicant), 20, fp);
    if (written != 20) {
        perror("Ошибка при записи данных в файл");
        fclose(fp);
        return EXIT_FAILURE;
    }

    fclose(fp);
    printf("Бинарный файл 'applicants.dat' успешно сгенерирован.\n");
    return EXIT_SUCCESS;
}
